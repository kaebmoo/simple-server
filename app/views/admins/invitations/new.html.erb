<h1><%= t "devise.invitations.new.header" %></h1>

<%= bootstrap_form_for(resource, as: resource_name, url: invitation_path(resource_name), html: { method: :post }) do |f| %>

    <div class="form-group row">
      <label for="name-input" class="col-md-2 col-form-label">Full name<sup>*</sup></label>
      <div class="col-md-10">
        <input class="form-control" type="text" placeholder="" value="" id="name-input" required>
      </div>
    </div>

    <div class="form-group row">
      <label for="email-input" class="col-md-2 col-form-label">Email<sup>*</sup></label>
      <div class="col-md-10">
        <input class="form-control" type="email" value="" placeholder="email@domain.com" id="email-input">
      </div>
    </div>

    <div class="form-group row">
      <label for="tel-input" class="col-md-2 col-form-label">Mobile<sup>*</sup></label>
      <div class="col-md-10">
        <input class="form-control" type="tel" placeholder="+91-555-555-5555" id="tel-input">
      </div>
    </div>

    <div class="form-group row">
      <label for="location-input" class="col-md-2 col-form-label">Location</label>
      <div class="col-md-10">
        <input class="form-control" type="tel" placeholder="District and state" id="location-input">
      </div>
    </div>

    <div class="form-group row">
      <label for="note-input" class="col-md-2 col-form-label">Note</label>
      <div class="col-md-10">
        <input class="form-control" type="tel" placeholder="Role or details" id="note-input">
      </div>
    </div>

    <div class="form-group row">
      <label for="facilities-input" class="col-md-2 col-form-label">Organization<sup>*</sup></label>
      <div class="col-md-10 pt-2">
        <div class="form-check-inline">
          <input class="form-check-input" type="checkbox" value="" id="Check11">
          <label class="form-check-label form-label-light" for="Check11">
            Argonaut Clinics
          </label>
        </div>
        <div class="form-check-inline">
          <input class="form-check-input" type="checkbox" value="" id="Check12">
          <label class="form-check-label form-label-light" for="Check12">
            IHCI
          </label>
        </div>
        <div class="form-check-inline">
          <input class="form-check-input" type="checkbox" value="" id="Check13">
          <label class="form-check-label form-label-light" for="Check13">
            PATH
          </label>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="facilities-input" class="col-md-2 col-form-label">Facilities<sup>*</sup></label>
      <div class="col-md-10">
            <input class="form-control" type="text" placeholder="Give access to facilities or districts..." value="" id="name-input" required data-toggle="modal" data-target="#exampleModal">
      </div>
    </div>

    <div class="form-group row">
      <label for="access-input" class="col-md-2 col-form-label">Access level<sup>*</sup></label>
      <div class="col-md-10">
        <select class="form-control" id="access-input">
        <option>Choose access level...</option>
        <option>Call center staff (access to PHI)</option>
        <option>CVHO: Cardiovascular Health Officer (access to PHI)</option>
        <option>Data analyst (anonymized data only)</option>
        <opion>STS: Senior Treatment Supervisor (access to PHI)</opion>
        <option>Super admin</option>
        <option>Custom...</option>
        </select>
          
        <div class="mt-3 p-3" style="border-radius: 5px; background: rgba(0,0,0,0.05);">
            <div class="row">
                <div class="col-md-4">
                    <h5 class="mb-2">Add and edit</h5>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check21">
                        <label class="form-check-label form-label-light" for="Check21">
                            Health workers
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check22">
                        <label class="form-check-label form-label-light" for="Check22">
                            Admins
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check23">
                        <label class="form-check-label form-label-light" for="Check23">
                            Facilities
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check24">
                        <label class="form-check-label form-label-light" for="Check24">
                            Protocols
                        </label>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5 class="mb-2">View</h5>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check25">
                        <label class="form-check-label form-label-light" for="Check25">
                            Cohort reports
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check26">
                        <label class="form-check-label form-label-light" for="Check26">
                            Audit logs <span class="badge badge-secondary" data-toggle="tooltip" data-placement="top" data-trigger="hover focus click" title="Gives access to 'protect health information' about patients">PHI</span>
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check27">
                        <label class="form-check-label form-label-light" for="Check27">
                            Health worker activity
                        </label>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5 class="mb-2">Access</h5>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check28">
                        <label class="form-check-label form-label-light" for="Check28">
                            Overdue patients list <span class="badge badge-secondary" data-toggle="tooltip" data-placement="top" data-trigger="hover focus click" title="Gives access to 'protect health information' about patients">PHI</span>
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check29">
                        <label class="form-check-label form-label-light" for="Check29">
                            Adherence follow-ups <span class="badge badge-secondary" data-toggle="tooltip" data-placement="top" data-trigger="hover focus click" title="Gives access to 'protect health information' about patients">PHI</span>
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="Check30">
                        <label class="form-check-label form-label-light" for="Check30">
                            Download overdue patient lists <span class="badge badge-secondary" data-toggle="tooltip" data-placement="top" data-trigger="hover focus click" title="Gives access to 'protect health information' about patients">PHI</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>

    <!-- Facility Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="exampleModalLabel">Select facilities or districts</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Search by district or facility name...">
            </div>
            <div style="background: rgba(0,0,0,0.05); border-radius: 5px; min-height: 200px;" class="p-3">
                &lt; No facilities selected &gt;
            </div>
          </div>
          <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-outline-success">Give access to all facilities</button>
                    <button type="button" class="btn btn-primary">Done</button>
          </div>
        </div>
      </div>
    </div>


<!--
  <% resource.class.invite_key_fields.each do |field| -%>
    <%= f.text_field field %></p>
    <%= f.hidden_field :role, readonly: true, value: @role.to_s %>
  <% end %>
  <%= f.hidden_field :access_controllable_type, value: AdminAccessControl::ACCESS_CONTROLLABLE_TYPE_FOR_ROLE[@role] %>

  <% if [:supervisor, :analyst, :counsellor].include?(@role) %>
    <h3>Select facility groups</h3>
    <% policy_scope(FacilityGroup).group_by(&:organization).each do |organization, facility_groups| %>
      <%= f.collection_check_boxes :access_controllable_ids, facility_groups, :id, :name, label: "Organization: #{organization.name}" %>
    <% end %>
  <% end %>

  <% if @role == :organization_owner %>
    <h3>Select organizations</h3>
    <%= f.collection_check_boxes :access_controllable_ids, policy_scope(Organization), :id, :name, label: 'Organizations', size: 1 %>
  <% end %>
-->
  <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-10">
        <%= f.primary t("devise.invitations.new.submit_button") %>
      </div>
  </div>
<% end %>